import{c as _t,d as ht,e as Ct,f as xt,g as bt,h as O}from"./chunk-DUHGU6EU.js";import{a as G}from"./chunk-CQ6IIDQT.js";import{a as W}from"./chunk-RFQI5BNG.js";import{b as at,c as mt,g as lt,j as ct,l as k}from"./chunk-ZVP2WZDK.js";import{A as it,D as nt,G as ot,I as rt,a as y,c as K,d as Q,q as X,s as f,u as Z,v as tt,y as et}from"./chunk-KF24QTHE.js";import"./chunk-EJJBCPAK.js";import{a as dt,b as st,c as pt,d as ut,f as ft,g as gt}from"./chunk-2TN3GL7T.js";import{j as Y,l as P,p as J}from"./chunk-V6KZPOXC.js";import{$ as j,$b as z,$c as H,Ab as R,Bb as n,Cb as o,Db as v,Hb as M,Kb as p,Mb as g,Xa as m,Ya as u,Yb as a,Zb as F,Zc as $,_b as S,ec as b,ia as _,ic as A,ja as N,jc as q,nb as x,qa as h,ra as C,sb as s,xb as d,zb as B}from"./chunk-BE5RT4AU.js";import"./chunk-JKOY2XUY.js";var kt=(t,c)=>c.id;function Gt(t,c){if(t&1){let e=M();n(0,"mat-card",6),p("click",function(){let i=h(e).$implicit,l=g();return C(l.selectGym(i))}),n(1,"mat-card-header")(2,"mat-card-title"),a(3),o()(),n(4,"mat-card-content")(5,"mat-card-subtitle"),a(6),o(),n(7,"mat-card-subtitle"),a(8),o()(),n(9,"button",7),p("click",function(){let i=h(e).$implicit,l=g();return C(l.edit(i))}),a(10,"Editar"),o()()}if(t&2){let e=c.$implicit;m(3),S(" ",e.nome,""),m(3),S("Tel: ",e.telefone,""),m(2),S("Endere\xE7o: ",e.endereco,"")}}var yt=(()=>{class t{httpMethods;router;pathUrlClient=k.GYM;gyms;limit=12;totalResults=0;currentPage=1;constructor(e,r){this.httpMethods=e,this.router=r}ngOnInit(){this.search()}search(e=0,r=this.limit){let i={active:!0,limit:r,offset:e};this.httpMethods.getPaginated(this.pathUrlClient,i).subscribe(l=>{this.gyms=l.results,this.totalResults=l.count,this.currentPage=e/r})}nextPage(){let e=Math.ceil(this.currentPage/this.limit)-1;if(this.currentPage<e){let r=(this.currentPage-1)*this.limit;this.search(r)}}prevPage(){if(this.currentPage>0){let e=(this.currentPage-1)*this.limit;this.search(e)}}create(){this.router.navigate(["adm/form/create"]).then()}selectGym(e){localStorage.setItem("academia",String(e.id)),localStorage.setItem("academia_nome",String(e.nome)),this.router.navigate(["my_gym/home/"]).then()}edit(e){this.router.navigate([`adm/form/${e.id}`]).then()}static \u0275fac=function(r){return new(r||t)(u(G),u(P))};static \u0275cmp=_({type:t,selectors:[["app-list"]],standalone:!0,features:[b],decls:21,vars:7,consts:[[1,"gym-container"],[1,"gym-cards"],[1,"gym-card"],[1,"gym-card","add-gym-card",3,"click"],[1,"pagination","flex","justify-content-center","gap-2","mt-5"],["mat-raised-button","",3,"click","disabled"],[1,"gym-card",3,"click"],["mat-button","",3,"click"]],template:function(r,i){r&1&&(n(0,"div",0)(1,"h2"),a(2," Academias cadastradas"),o(),n(3,"div",1),B(4,Gt,11,3,"mat-card",2,kt),n(6,"mat-card",3),p("click",function(){return i.create()}),n(7,"mat-card-header")(8,"mat-card-title"),a(9,"+"),o()(),n(10,"mat-card-content")(11,"p"),a(12,"Adicionar Nova Academia"),o()()()(),n(13,"div",4)(14,"button",5),p("click",function(){return i.prevPage()}),a(15,"Anterior"),o(),n(16,"span"),a(17),A(18,"number"),o(),n(19,"button",5),p("click",function(){return i.nextPage()}),a(20,"Pr\xF3xima"),o()()()),r&2&&(m(4),R(i.gyms),m(10),s("disabled",i.currentPage===0),m(3),z("P\xE1gina ",i.currentPage+1," de ",q(18,4,i.totalResults/i.limit,"1.0-0"),""),m(2),s("disabled",i.currentPage>=i.totalResults/i.limit-1))},dependencies:[dt,ft,pt,gt,ut,st,y,$],styles:[".gym-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:20px}.gym-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;width:100%;max-width:1200px}.gym-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a;background-color:#fff}.gym-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 12px #00000026}mat-card-header[_ngcontent-%COMP%]{background-color:#f4f4f4;border-radius:8px 8px 0 0;padding-bottom:15px}mat-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333}mat-card-subtitle[_ngcontent-%COMP%]{color:#555;font-size:14px}mat-card-content[_ngcontent-%COMP%]{line-height:1.5}.add-gym-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#f1f1f1;text-align:center;height:150px;transition:background-color .3s ease}.add-gym-card[_ngcontent-%COMP%]:hover{background-color:#e3e3e3}mat-card-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}mat-card-content[_ngcontent-%COMP%]{font-size:14px;color:#555}"]})}return t})();var vt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=_({type:t,selectors:[["app-confirm-dialog-component"]],standalone:!0,features:[b],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","color","warn",3,"mat-dialog-close"]],template:function(r,i){r&1&&(n(0,"h1",0),a(1,"Confirmacao"),o(),n(2,"div",1),a(3,"Voce tem certeza de que deseja deletar essa academia?"),o(),n(4,"div",2)(5,"button",3),a(6,"Cancelar"),o(),n(7,"button",4),a(8,"Confirmar"),o()()),r&2&&(m(5),s("mat-dialog-close",!1),m(2),s("mat-dialog-close",!0))},dependencies:[O,ht,Ct,bt,xt,Q,y]})}return t})();function Ft(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),o())}function wt(t,c){t&1&&(n(0,"mat-error"),a(1," Nome tem limite de 20 caracteres "),o())}function Tt(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),o())}function It(t,c){t&1&&(n(0,"mat-error"),a(1," Endere\xE7o tem limite de 60 caracteres "),o())}function Dt(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),o())}function Lt(t,c){t&1&&(n(0,"mat-error"),a(1," N\xFAmero de telefone inv\xE1lido "),o())}function Ut(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),o())}function Vt(t,c){t&1&&(n(0,"mat-error"),a(1," Insira um email valido "),o())}function jt(t,c){if(t&1){let e=M();n(0,"button",12),p("click",function(){h(e);let i=g();return C(i.toggleLock())}),n(1,"mat-icon"),a(2),o()()}if(t&2){let e=g();m(2),F(e.isUnlocked?"lock_open":"lock")}}function Nt(t,c){if(t&1){let e=M();n(0,"button",13),p("click",function(){h(e);let i=g();return C(i.disable(i.formGroup.value))}),a(1,"Deletar"),o()}if(t&2){let e=g();s("disabled",!e.isUnlocked)}}var Mt=(()=>{class t{httpMethods;formBuilder;route;router;dialog;isUnlocked=!1;action="";pathUrlGym=k.GYM;formGroup;created=!0;title="Cadastro de Academia";toggleLock(){this.isUnlocked=!this.isUnlocked}constructor(e,r,i,l,E){this.httpMethods=e,this.formBuilder=r,this.route=i,this.router=l,this.dialog=E,this.formGroup=this.formBuilder.group({id:[],nome:["",[f.required,f.maxLength(20)]],endereco:["",[f.required,f.maxLength(60)]],telefone:["",[f.required,f.pattern("[0-9]{10,11}")]],email:["",[f.required,f.email]]})}ngOnInit(){this.retrieveCallBack()}retrieveCallBack(){this.route.paramMap.subscribe(e=>{this.action=e.get("action"),this.created=!(this.action&&this.action!=="create"),this.created||(this.title="Edicao de Academia",this.httpMethods.get(this.pathUrlGym+this.action+"/").subscribe(r=>{this.formGroup.setValue({id:r.id,nome:r.nome,endereco:r.endereco,telefone:r.telefone,email:r.email})}))})}saveOrUpdate(e){this.created?this.httpMethods.post(this.pathUrlGym,e).subscribe(()=>{this.router.navigate(["/adm/gym/list"])}):this.httpMethods.patch(this.pathUrlGym,e).subscribe(()=>{this.router.navigate(["/adm/gym/list"])})}disable(e){let r=this.dialog.open(vt),i="desativar_academia";r.afterClosed().subscribe(l=>{l&&this.httpMethods.disable(this.pathUrlGym,e,i).subscribe(()=>{this.router.navigate(["/adm/gym/list"])})})}static \u0275fac=function(r){return new(r||t)(u(G),u(ot),u(Y),u(P),u(_t))};static \u0275cmp=_({type:t,selectors:[["app-form-gym"]],standalone:!0,features:[b],decls:32,vars:13,consts:[[1,"container"],[1,"mat-elevation-z2","form",3,"ngSubmit","formGroup"],[1,"form-title"],["appearance","fill",1,"email"],["matInput","","formControlName","nome","placeholder","Digite o nome da academia"],["appearance","fill"],["matInput","","type","text","formControlName","endereco","placeholder","Digite o endereco da academia"],["matInput","","type","tel","formControlName","telefone","placeholder","Digite o telefone da academia"],["matInput","","type","email","formControlName","email","placeholder","Digite o email da academia"],["mat-raised-button","","color","primary","type","submit",1,"save",3,"disabled"],["mat-icon-button","","color","warn","type","button"],["mat-raised-button","","color","warn","type","button",1,"delete",3,"disabled"],["mat-icon-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","warn","type","button",1,"delete",3,"click","disabled"]],template:function(r,i){if(r&1&&(n(0,"div",0)(1,"form",1),p("ngSubmit",function(){return i.saveOrUpdate(i.formGroup.value)}),n(2,"h2",2),a(3),o(),n(4,"mat-form-field",3)(5,"mat-label"),a(6,"Nome"),o(),v(7,"input",4),x(8,Ft,2,0,"mat-error")(9,wt,2,0,"mat-error"),o(),n(10,"mat-form-field",5)(11,"mat-label"),a(12,"Endereco"),o(),v(13,"input",6),x(14,Tt,2,0,"mat-error")(15,It,2,0,"mat-error"),o(),n(16,"mat-form-field",5)(17,"mat-label"),a(18,"Telefone"),o(),v(19,"input",7),x(20,Dt,2,0,"mat-error")(21,Lt,2,0,"mat-error"),o(),n(22,"mat-form-field",5)(23,"mat-label"),a(24,"Email"),o(),v(25,"input",8),x(26,Ut,2,0,"mat-error")(27,Vt,2,0,"mat-error"),o(),n(28,"button",9),a(29,"Salvar"),o(),x(30,jt,3,1,"button",10)(31,Nt,2,1,"button",11),o()()),r&2){let l,E,T,I,D,L,U,V;m(),s("formGroup",i.formGroup),m(2),F(i.title),m(5),d((l=i.formGroup.get("nome"))!=null&&l.hasError("required")?8:-1),m(),d((E=i.formGroup.get("nome"))!=null&&E.hasError("maxlength")?9:-1),m(5),d((T=i.formGroup.get("endereco"))!=null&&T.hasError("required")?14:-1),m(),d((I=i.formGroup.get("endereco"))!=null&&I.hasError("maxlength")?15:-1),m(5),d((D=i.formGroup.get("telefone"))!=null&&D.hasError("required")?20:-1),m(),d((L=i.formGroup.get("telefone"))!=null&&L.hasError("pattern")?21:-1),m(5),d((U=i.formGroup.get("email"))!=null&&U.hasError("required")?26:-1),m(),d((V=i.formGroup.get("email"))!=null&&V.hasError("email")?27:-1),m(),s("disabled",!i.formGroup.valid),m(2),d(i.action!=="create"?30:-1),m(),d(i.action!=="create"?31:-1)}},dependencies:[y,lt,ct,at,rt,et,X,Z,tt,it,nt,W,K,mt],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;background-color:#f4f4f9;padding-top:20px;padding-bottom:20px}.form[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:30px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;font-family:Arial,sans-serif}.form-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;color:#333;margin-bottom:20px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}mat-label[_ngcontent-%COMP%]{font-weight:600;color:#333}input[_ngcontent-%COMP%]{font-size:16px;padding:10px;border-radius:4px;border:1px solid #ddd}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;border:none;border-radius:4px;cursor:pointer}button.save[_ngcontent-%COMP%]{background-color:#303f9f;color:#fff}button.save[_ngcontent-%COMP%]:disabled{background-color:#ddd}button.save[_ngcontent-%COMP%]:hover:enabled{background-color:#5c6bc0}button.delete[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff;margin-top:10px}button.delete[_ngcontent-%COMP%]:disabled{background-color:#ddd}button.delete[_ngcontent-%COMP%]:hover:enabled{background-color:#e33c3c}@media (max-width: 600px){.form[_ngcontent-%COMP%]{padding:20px}.form-title[_ngcontent-%COMP%]{font-size:20px}button[_ngcontent-%COMP%]{font-size:14px;padding:12px}}mat-icon-button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}"]})}return t})();var Et=[{path:"gym/list",component:yt},{path:"form/:action",component:Mt}];var pe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=N({type:t});static \u0275inj=j({imports:[H,J.forChild(Et),O]})}return t})();export{pe as GymListModule};
