import"./chunk-QV2F62HX.js";import{a as ee,b as te,d as ne}from"./chunk-X4CE2ALT.js";import{a as Z}from"./chunk-O4NCNYFU.js";import{a as x}from"./chunk-GWEJ6O57.js";import{b as Y,g as J,j as K,l as C}from"./chunk-CIJ5G4FK.js";import{D as L,H as V,I as z,K as W,L as H,N as $,Q as q,R as Q,S as h,b as D,z as A}from"./chunk-3RHGMBTT.js";import"./chunk-EJJBCPAK.js";import{a as b,c as M,e as _,f as X}from"./chunk-UT2SQGIQ.js";import{k as U,n as N}from"./chunk-H2QP3XJO.js";import{Ab as T,Db as j,Gb as u,Ib as G,Ic as B,Sb as o,Ua as m,Ub as l,Va as d,Vb as I,Wb as v,Xb as E,Z as k,Zb as g,ga as f,ha as S,oa as O,pa as w,pb as p,wb as F,xb as R,yb as i,zb as t}from"./chunk-KGKDVHTP.js";import"./chunk-JKOY2XUY.js";var P=(()=>{class r{formBuilder;httpMethods;router;snackBar;memberPlan;gymId="";formGroup;pathUrlFrequncy=C.FREQUENCY;getGym(){this.gymId=localStorage.getItem("academia"),this.gymId&&this.formGroup.patchValue({academia:this.gymId})}constructor(n,a,e,c){this.formBuilder=n,this.httpMethods=a,this.router=e,this.snackBar=c,this.formGroup=this.formBuilder.group({aluno:[""],academia:[this.gymId]})}ngOnInit(){this.getGym()}confirm(){this.formGroup.patchValue({aluno:this.memberPlan?.aluno.id}),this.httpMethods.post(this.pathUrlFrequncy,this.formGroup.value).subscribe(n=>{console.log(n);let a="check-in realizado com sucesso.";this.router.navigate(["check-in/register"]),this.snackBar.open(a,"fechar",{duration:5e3,verticalPosition:"top"})},n=>{console.error("Erro ao fazer check-in",n)})}static \u0275fac=function(a){return new(a||r)(d(q),d(x),d(U),d(A))};static \u0275cmp=f({type:r,selectors:[["app-check-in-confirm"]],inputs:{memberPlan:[0,"member","memberPlan"]},standalone:!0,features:[g],decls:33,vars:5,consts:[[1,"container"],["appearance","outlined",1,"confirm-card"],[1,"payment-info"],[1,"member-info"],[1,"plan-info"],[3,"formGroup"],["mat-button","",3,"click"]],template:function(a,e){a&1&&(i(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"h2"),o(4,"Informa\xE7\xF5es do Check-in"),t()(),i(5,"mat-card-content")(6,"div",2)(7,"h3"),o(8,"Informa\xE7\xF5es Membro"),t(),i(9,"div",3)(10,"span")(11,"strong"),o(12,"Nome: "),t(),o(13),t(),i(14,"span")(15,"strong"),o(16,"Matr\xEDcula: "),t(),o(17),t()(),i(18,"h3"),o(19,"Informa\xE7\xF5es do Plano"),t(),i(20,"div",4)(21,"span")(22,"strong"),o(23,"Plano: "),t(),o(24),t(),i(25,"span")(26,"strong"),o(27,"Dura\xE7\xE3o: "),t(),o(28),t()()()(),i(29,"form",5)(30,"mat-card-actions")(31,"button",6),u("click",function(){return e.confirm()}),o(32,"Confirmar"),t()()()()()),a&2&&(m(13),l(" ",e.memberPlan==null||e.memberPlan.aluno==null?null:e.memberPlan.aluno.nome,""),m(4),l(" ",e.memberPlan==null||e.memberPlan.aluno==null?null:e.memberPlan.aluno.matricula,""),m(7),l(" ",e.memberPlan==null||e.memberPlan.plano==null?null:e.memberPlan.plano.nome,""),m(4),l(" ",e.memberPlan==null||e.memberPlan.plano==null?null:e.memberPlan.plano.duracao,""),m(),p("formGroup",e.formGroup))},dependencies:[D,b,_,M,X,h,H,z,$],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:75vh;padding:20px}.confirm-card[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:20px;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:8px}mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#3f51b5;margin-bottom:10px}.payment-info[_ngcontent-%COMP%]{margin-top:20px}.payment-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;color:#555}.member-info[_ngcontent-%COMP%], .plan-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:10px;margin-bottom:20px}.member-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .plan-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333}.member-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .plan-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3f51b5}mat-radio-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}mat-radio-button[_ngcontent-%COMP%]{padding:10px 20px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}button[_ngcontent-%COMP%]{background-color:#d7d8e1;color:#fff;border-radius:4px;padding:10px 20px;font-size:16px;border:none;cursor:pointer;transition:background-color .3s ease}.mat-tab-group[_ngcontent-%COMP%]{padding-top:16px}"]})}return r})();var le=(r,y)=>y.aluno.id;function ce(r,y){if(r&1){let n=j();i(0,"mat-card",6)(1,"mat-card-content")(2,"div",9)(3,"div")(4,"strong"),o(5,"Matricula:"),t(),o(6),t(),i(7,"div")(8,"strong"),o(9,"Nome:"),t(),o(10),t(),i(11,"div")(12,"strong"),o(13,"Plano:"),t(),o(14),t()()(),i(15,"mat-card-actions")(16,"mat-radio-button",10),u("click",function(){let e=O(n).$implicit,c=G();return w(c.makePayment(e))}),t()()()}if(r&2){let n=y.$implicit;m(6),l(" ",n.aluno.matricula,""),m(4),l(" ",n.aluno.nome,""),m(4),l(" ",n.plano.nome,"")}}var ie=(()=>{class r{httpMethods;obj=void 0;pathUrlMemberPlan=C.MEMBERPLAN;membersPlan;gym_id="";typeUser="";searchTerm="";selectedIndex=0;getIdGym(){this.gym_id=localStorage.getItem("academia")}getTypeUser(){this.typeUser=localStorage.getItem("tipo_usuario")}constructor(n){this.httpMethods=n}ngOnInit(){this.getIdGym(),this.seach(),this.getTypeUser()}seach(){this.httpMethods.get(this.pathUrlMemberPlan+`?expand=aluno&expand=plano&active=true&academia=${this.gym_id}`).subscribe(n=>{this.membersPlan=n})}makePayment(n){this.obj=n,this.selectedIndex=1}searchMember(){let n="";this.searchTerm&&(n=`&search=${this.searchTerm}`),this.httpMethods.get(`${this.pathUrlMemberPlan}?expand=aluno&expand=plano&active=true${n}&academia=${this.gym_id}`).subscribe(a=>{this.membersPlan=a})}static \u0275fac=function(a){return new(a||r)(d(x))};static \u0275cmp=f({type:r,selectors:[["app-check-in-registration"]],standalone:!0,features:[g],decls:13,vars:4,consts:[["mat-subheader",""],[3,"selectedIndexChange","selectedIndex"],["label","Sele\xE7\xE3o Aluno"],[1,"employer-list"],["appearance","outline",1,"search"],["matInput","text","placeholder","Digite o nome ou matricula",3,"ngModelChange","input","ngModel"],["appearance","outlined",1,"member-cad"],["label","Confirma\xE7\xE3o",3,"disabled"],[3,"member"],[1,"member-info"],[1,"checked-ripple-color",3,"click"]],template:function(a,e){a&1&&(i(0,"h2",0),o(1,"Check-in"),t(),i(2,"mat-tab-group",1),E("selectedIndexChange",function(s){return v(e.selectedIndex,s)||(e.selectedIndex=s),s}),i(3,"mat-tab",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),o(7,"Busca Aluno"),t(),i(8,"input",5),E("ngModelChange",function(s){return v(e.searchTerm,s)||(e.searchTerm=s),s}),u("input",function(){return e.searchMember()}),t()(),F(9,ce,17,3,"mat-card",6,le),t()(),i(11,"mat-tab",7),T(12,"app-check-in-confirm",8),t()()),a&2&&(m(2),I("selectedIndex",e.selectedIndex),m(6),I("ngModel",e.searchTerm),m(),R(e.membersPlan),m(2),p("disabled",!e.obj),m(),p("member",e.obj))},dependencies:[b,_,M,J,K,Y,Z,ne,ee,te,h,L,V,Q,W,P],styles:[".member-cad[_ngcontent-%COMP%]{margin-bottom:16px}.search[_ngcontent-%COMP%]{width:100%;margin-top:16px}.member-info[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-start}.mat-tab-group[_ngcontent-%COMP%]{padding-top:16px}h2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;text-align:center;font-family:Arial,Helvetica,sans-serif}mat-tab-group[_ngcontent-%COMP%]{padding-left:1%;width:98%}"]})}return r})();var re=[{path:"confirm",component:P},{path:"register",component:ie}];var Ge=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=S({type:r});static \u0275inj=k({imports:[B,N.forChild(re)]})}return r})();export{Ge as CheckInModule};
