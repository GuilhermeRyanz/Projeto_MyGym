import{a as p}from"./chunk-QV2F62HX.js";import{a as H,b as q,d as z}from"./chunk-X4CE2ALT.js";import{a as G}from"./chunk-O4NCNYFU.js";import{a as $}from"./chunk-GWEJ6O57.js";import"./chunk-VIEVWMA7.js";import{b as L,g as N,j as O,l as W}from"./chunk-CIJ5G4FK.js";import{D as F,H as U,K as B,R as k}from"./chunk-3RHGMBTT.js";import"./chunk-EJJBCPAK.js";import{a as A,c as D,e as V}from"./chunk-UT2SQGIQ.js";import{n as j}from"./chunk-H2QP3XJO.js";import{Ab as E,Db as v,Gb as g,Ib as T,Ic as R,Sb as m,Ua as r,Ub as d,Va as x,Vb as h,Wb as f,Xb as y,Z as M,Zb as w,ga as b,ha as _,oa as C,pa as P,pb as u,wb as I,xb as S,yb as o,zb as n}from"./chunk-KGKDVHTP.js";import"./chunk-JKOY2XUY.js";var X=(t,c)=>c.aluno.id;function Y(t,c){if(t&1){let e=v();o(0,"mat-card",6)(1,"mat-card-content")(2,"div",9)(3,"div")(4,"strong"),m(5,"Matricula:"),n(),m(6),n(),o(7,"div")(8,"strong"),m(9,"Nome:"),n(),m(10),n(),o(11,"div")(12,"strong"),m(13,"Plano:"),n(),m(14),n()()(),o(15,"mat-card-actions")(16,"mat-radio-button",10),g("click",function(){let i=C(e).$implicit,s=T();return P(s.makePayment(i))}),n()()()}if(t&2){let e=c.$implicit;r(6),d(" ",e.aluno.matricula,""),r(4),d(" ",e.aluno.nome,""),r(4),d(" ",e.plano.nome,"")}}var J=(()=>{class t{httpMethods;obj=void 0;pathUrlMemberPlan=W.MEMBERPLAN;membersPlan;gym_id="";typeUser="";searchTerm="";selectedIndex=0;getIdGym(){this.gym_id=localStorage.getItem("academia")}getTypeUser(){this.typeUser=localStorage.getItem("usuario_tipo")}constructor(e){this.httpMethods=e}ngOnInit(){this.getIdGym(),this.seach(),this.getTypeUser()}seach(){this.httpMethods.get(this.pathUrlMemberPlan+`?expand=aluno&expand=plano&active=true&academia=${this.gym_id}`).subscribe(e=>{this.membersPlan=e})}makePayment(e){this.obj=e,this.selectedIndex=1}searchMember(){let e="";this.searchTerm&&(e=`&search=${this.searchTerm}`),this.httpMethods.get(`${this.pathUrlMemberPlan}?expand=aluno&expand=plano&active=true${e}&academia=${this.gym_id}`).subscribe(a=>{this.membersPlan=a,console.log(a)})}static \u0275fac=function(a){return new(a||t)(x($))};static \u0275cmp=b({type:t,selectors:[["app-payment-registration"]],standalone:!0,features:[w],decls:13,vars:4,consts:[["mat-subheader",""],[3,"selectedIndexChange","selectedIndex"],["label","Sele\xE7\xE3o Aluno"],[1,"employer-list"],["appearance","outline",1,"search"],["matInput","text","placeholder","Digite o nome ou matricula",3,"ngModelChange","input","ngModel"],["appearance","outlined",1,"member-cad"],["label","Confirma\xE7\xE3o",3,"disabled"],[3,"member"],[1,"member-info"],[3,"click"]],template:function(a,i){a&1&&(o(0,"h2",0),m(1,"Pagamento"),n(),o(2,"mat-tab-group",1),y("selectedIndexChange",function(l){return f(i.selectedIndex,l)||(i.selectedIndex=l),l}),o(3,"mat-tab",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),m(7,"Busca Aluno"),n(),o(8,"input",5),y("ngModelChange",function(l){return f(i.searchTerm,l)||(i.searchTerm=l),l}),g("input",function(){return i.searchMember()}),n()(),I(9,Y,17,3,"mat-card",6,X),n()(),o(11,"mat-tab",7),E(12,"app-payment-confirm",8),n()()),a&2&&(r(2),h("selectedIndex",i.selectedIndex),r(6),h("ngModel",i.searchTerm),r(),S(i.membersPlan),r(2),u("disabled",!i.obj),r(),u("member",i.obj))},dependencies:[k,F,U,B,A,V,D,N,O,L,G,q,H,p,z],styles:[".member-cad[_ngcontent-%COMP%]{margin-bottom:16px}.search[_ngcontent-%COMP%]{width:100%;margin-top:16px}.member-info[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-start}h2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;text-align:center}mat-tab-group[_ngcontent-%COMP%]{padding-left:1%;width:98%}"]})}return t})();var K=[{path:"paymentRegistration",component:J},{path:"paymentConfirm",component:p}];var ye=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=_({type:t});static \u0275inj=M({imports:[R,j.forChild(K)]})}return t})();export{ye as PaymentModule};
