import{a as ut,b as ft}from"./chunk-O4NCNYFU.js";import{a as y}from"./chunk-GWEJ6O57.js";import{a as pt}from"./chunk-VIEVWMA7.js";import{b as et,c as it,g as rt,j as ot,l as M}from"./chunk-CIJ5G4FK.js";import{D as z,F as p,H,I as J,L as K,M as Q,N as W,O as X,P as Y,Q as Z,S as tt,b as E,d as R,z as $}from"./chunk-3RHGMBTT.js";import"./chunk-EJJBCPAK.js";import{a as nt,b as at,c as mt,d as lt,e as dt,f as ct,g as st}from"./chunk-UT2SQGIQ.js";import{i as A,k as b,n as q}from"./chunk-H2QP3XJO.js";import{Ab as _,Db as B,Gb as f,Ib as C,Ic as V,Sb as o,Tb as j,Ua as m,Ub as h,Va as c,Z as k,Zb as v,ga as x,ha as U,kb as g,oa as S,pa as I,pb as u,ub as s,wb as D,xb as L,yb as r,zb as e}from"./chunk-KGKDVHTP.js";import"./chunk-JKOY2XUY.js";var bt=(t,l)=>l.id;function Et(t,l){if(t&1){let i=B();r(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title")(3,"strong"),o(4),e()(),r(5,"mat-card-subtitle")(6,"strong"),o(7),e()()(),r(8,"mat-card-content")(9,"div",4)(10,"div",5)(11,"div")(12,"strong"),o(13," Pre\xE7o:"),e(),o(14),e(),r(15,"div")(16,"strong"),o(17,"Dura\xE7\xE3o:"),e(),o(18),e()(),r(19,"p",6)(20,"strong"),o(21," Descri\xE7\xE3o: "),e(),o(22),e()()(),r(23,"mat-card-actions")(24,"button",7),f("click",function(){let a=S(i).$implicit,d=C();return I(d.edit(a))}),r(25,"mat-icon"),o(26,"edit"),e()(),r(27,"button",8),f("click",function(){let a=S(i).$implicit,d=C();return I(d.disable(a))}),r(28,"mat-icon"),o(29,"delete"),e()()()()}if(t&2){let i=l.$implicit,n=C();m(4),h(" Nome: ",i.nome," "),m(3),h(" ID: ",i.id," "),m(7),h(" R$",i.preco," "),m(4),h(" ",i.duracao," meses"),m(4),h("",i.descricao," "),m(2),u("disabled",n.typeUser=="A"),m(3),u("disabled",n.typeUser=="A")}}var gt=(()=>{class t{httpMethods;router;snackBar;pathUrlPlan=M.PLAN;plans;gym_id="";typeUser="";getIdGym(){this.gym_id=localStorage.getItem("academia")}constructor(i,n,a){this.httpMethods=i,this.router=n,this.snackBar=a}ngOnInit(){this.getIdGym(),this.seach(),this.getTypeUser()}getTypeUser(){this.typeUser=localStorage.getItem("tipo_usuario")}seach(){this.httpMethods.get(this.pathUrlPlan+`?academia=${this.gym_id}&active=true`).subscribe(i=>{i.length<=0&&this.snackBar.open("N\xE3o h\xE1 planos ativos cadastrados!","fechar",{duration:2e3,verticalPosition:"top"}),this.plans=i})}create(){this.router.navigate(["/plan/form/create"]).then()}edit(i){this.router.navigate([`/plan/form/${i.id}`]).then()}disable(i){this.httpMethods.disable(this.pathUrlPlan,i,"desativar").subscribe(()=>{this.seach()})}static \u0275fac=function(n){return new(n||t)(c(y),c(b),c($))};static \u0275cmp=x({type:t,selectors:[["app-list"]],standalone:!0,features:[v],decls:7,vars:1,consts:[[1,"Plan-list"],["mat-subheader",""],["appearance","outlined",1,"plan-card"],["mat-raised-button","","mat-button","","color","warn",1,"add_button",3,"click","disabled"],[1,"plan-details"],[1,"plan-info"],[1,"plan-description"],["mat-icon-button","","color","primary",3,"click","disabled"],["mat-icon-button","","color","warn",3,"click","disabled"]],template:function(n,a){n&1&&(r(0,"div",0)(1,"h2",1),o(2,"Planos"),e(),D(3,Et,30,7,"mat-card",2,bt),r(5,"button",3),f("click",function(){return a.create()}),o(6,"Novo Plano"),e()()),n&2&&(m(3),L(a.plans),m(2),u("disabled",a.typeUser=="A"))},dependencies:[E,pt,R,ft,ut,st,nt,dt,mt,ct,lt,at],styles:[".plan-card[_ngcontent-%COMP%]{margin-bottom:16px;margin-left:1%;width:98%}.plan-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.plan-info[_ngcontent-%COMP%]{flex:1}.plan-description[_ngcontent-%COMP%]{flex:1;margin-left:16px;margin-top:8px;padding:8px;background-color:#f9f9f9;border-radius:4px;font-size:14px;line-height:1.6;color:#555;max-height:100px;overflow-y:auto}h2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;text-align:center}"]})}return t})();function Mt(t,l){t&1&&(r(0,"mat-error"),o(1," Campo Obrigatorio "),e())}function yt(t,l){t&1&&(r(0,"mat-error"),o(1," Nome tem limite de 20 caracteres "),e())}function St(t,l){t&1&&(r(0,"mat-error"),o(1," Campo Obrigat\xF3rio "),e())}function It(t,l){t&1&&(r(0,"mat-error"),o(1," Pre\xE7o inv\xE1lido (deve ser um n\xFAmero com at\xE9 2 casas decimais) "),e())}function Pt(t,l){t&1&&(r(0,"mat-error"),o(1," Campo Obrigat\xF3rio "),e())}function Ft(t,l){t&1&&(r(0,"mat-error"),o(1," Nome tem limite de 120 caracteres "),e())}function wt(t,l){t&1&&(r(0,"mat-error"),o(1," Campo Obrigat\xF3rio "),e())}function Gt(t,l){t&1&&(r(0,"mat-error"),o(1," Dura\xE7\xE3o deve ser maior que zero "),e())}var _t=(()=>{class t{httpMethods;formBuilder;router;route;action="";pathUrlPlan=M.PLAN;formGroup;created=!0;gymId="";title="Cria\xE7\xE3o de Plano";getPlan(){this.gymId=localStorage.getItem("academia"),this.gymId&&this.formGroup.patchValue({academia:this.gymId})}constructor(i,n,a,d){this.httpMethods=i,this.formBuilder=n,this.router=a,this.route=d,this.formGroup=this.formBuilder.group({id:[],nome:["",[p.required,p.maxLength(20)]],preco:["",[p.required,p.pattern("^[0-9]+(.[0-9]{1,2})?$")]],duracao:["",[p.required,p.min(1)]],descricao:["",[p.required,p.maxLength(120)]],academia:[""]})}ngOnInit(){this.getPlan(),this.retriveCallBack()}retriveCallBack(){this.route.paramMap.subscribe(i=>{this.action=i.get("action"),this.created=!(this.action&&this.action!=="create"),this.created||(this.title="Edi\xE7\xE3o de Plano",this.httpMethods.get(this.pathUrlPlan+this.action+"/").subscribe(n=>{this.formGroup.setValue({id:n.id,nome:n.nome,preco:n.preco,duracao:n.duracao,descricao:n.descricao,academia:this.gymId})}))})}saveOrUpdate(i){this.created?this.httpMethods.post(this.pathUrlPlan,i).subscribe(()=>{this.router.navigate(["/plan/list"]).then()}):this.httpMethods.patch(this.pathUrlPlan,i).subscribe(()=>{this.router.navigate(["/plan/list"]).then()})}static \u0275fac=function(n){return new(n||t)(c(y),c(Z),c(b),c(A))};static \u0275cmp=x({type:t,selectors:[["app-form"]],standalone:!0,features:[v],decls:30,vars:12,consts:[[1,"container"],[1,"mat-elevation-z2","form",3,"ngSubmit","formGroup"],["appearance","fill",1,"nome"],["matInput","","formControlName","nome","placeholder","Digite o nome do plano"],["appearance","fill"],["matInput","","type","number","formControlName","preco","placeholder","Digite o pre\xE7o"],["matInput","","formControlName","descricao","placeholder","Digite uma descri\xE7\xE3o","rows","4"],["matInput","","type","number","formControlName","duracao","placeholder","Dura\xE7\xE3o em meses",3,"min"],["mat-raised-button","","color","primary","type","submit",1,"save",3,"disabled"]],template:function(n,a){if(n&1&&(r(0,"div",0)(1,"form",1),f("ngSubmit",function(){return a.saveOrUpdate(a.formGroup.value)}),r(2,"h2"),o(3),e(),r(4,"mat-form-field",2)(5,"mat-label"),o(6,"Nome"),e(),_(7,"input",3),g(8,Mt,2,0,"mat-error")(9,yt,2,0,"mat-error"),e(),r(10,"mat-form-field",4)(11,"mat-label"),o(12,"Pre\xE7o"),e(),_(13,"input",5),g(14,St,2,0,"mat-error")(15,It,2,0,"mat-error"),e(),r(16,"mat-form-field",4)(17,"mat-label"),o(18,"Descri\xE7\xE3o"),e(),_(19,"textarea",6),g(20,Pt,2,0,"mat-error")(21,Ft,2,0,"mat-error"),e(),r(22,"mat-form-field",4)(23,"mat-label"),o(24,"Dura\xE7\xE3o"),e(),_(25,"input",7),g(26,wt,2,0,"mat-error")(27,Gt,2,0,"mat-error"),e(),r(28,"button",8),o(29,"Salvar"),e()()()),n&2){let d,P,F,w,G,N,O,T;m(),u("formGroup",a.formGroup),m(2),j(a.title),m(5),s((d=a.formGroup.get("nome"))!=null&&d.hasError("required")?8:-1),m(),s((P=a.formGroup.get("nome"))!=null&&P.hasError("maxlength")?9:-1),m(5),s((F=a.formGroup.get("preco"))!=null&&F.hasError("required")?14:-1),m(),s((w=a.formGroup.get("preco"))!=null&&w.hasError("pattern")?15:-1),m(5),s((G=a.formGroup.get("descricao"))!=null&&G.hasError("required")?20:-1),m(),s((N=a.formGroup.get("descricao"))!=null&&N.hasError("maxlength")?21:-1),m(4),u("min",1),m(),s((O=a.formGroup.get("duracao"))!=null&&O.hasError("required")?26:-1),m(),s((T=a.formGroup.get("duracao"))!=null&&T.hasError("min")?27:-1),m(),u("disabled",!a.formGroup.valid)}},dependencies:[E,rt,ot,et,tt,K,z,Q,H,J,Y,W,X,it],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.form[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-label[_ngcontent-%COMP%]{font-weight:700;color:#333}input[_ngcontent-%COMP%]{font-size:16px;padding:10px}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;border:none;border-radius:4px;cursor:pointer}"]})}return t})();var xt=[{path:"list",component:gt},{path:"form/:action",component:_t}];var te=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=U({type:t});static \u0275inj=k({imports:[V,q.forChild(xt)]})}return t})();export{te as EmployeeModule};
