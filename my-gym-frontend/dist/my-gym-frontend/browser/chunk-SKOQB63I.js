import{c as ut,d as ft,e as gt,f as _t,g as ht,h as O}from"./chunk-U76PCYAY.js";import{a as pt}from"./chunk-OCPZM4ND.js";import{a as k}from"./chunk-N5P5CQHZ.js";import{a as Y}from"./chunk-EWFQADUA.js";import{a as P}from"./chunk-ZEWUZSSU.js";import{b as ot,c as it,g as nt,j as rt}from"./chunk-Z2MS5EHL.js";import{C as X,F as Z,J as tt,L as et,a as M,c as $,d as H,q as J,s as f,u as K,v as Q,z as W}from"./chunk-S65PQ7FS.js";import"./chunk-CARY4E7O.js";import{a as at,b as mt,c as lt,d as ct,f as dt,g as st}from"./chunk-VEVENBIR.js";import{j as A,l as G,p as q}from"./chunk-6H5PU6RJ.js";import{$ as N,$b as S,Ab as z,Bb as B,Cb as n,Db as r,Eb as v,Ib as E,Lb as u,Nb as g,Xa as m,Ya as s,Zb as a,_b as w,cd as R,fc as y,ia as h,ja as j,nb as b,qa as C,ra as x,sb as p,xb as d}from"./chunk-OXVJG6A6.js";import"./chunk-JKOY2XUY.js";var Et=(t,c)=>c.id;function St(t,c){if(t&1){let e=E();n(0,"mat-card",5),u("click",function(){let o=C(e).$implicit,l=g();return x(l.selectGym(o))}),n(1,"mat-card-header")(2,"mat-card-title"),a(3),r()(),n(4,"mat-card-content")(5,"mat-card-subtitle"),a(6),r(),n(7,"mat-card-subtitle"),a(8),r()(),n(9,"button",6),u("click",function(){let o=C(e).$implicit,l=g();return x(l.edit(o))}),a(10,"Editar"),r()()}if(t&2){let e=c.$implicit;m(3),S(" ",e.nome,""),m(3),S("Tel: ",e.telefone,""),m(2),S("Endere\xE7o: ",e.endereco,"")}}var Ct=(()=>{class t{httpMethods;router;pathUrlClient=P.GYM;gyms;limit=12;totalResults=0;currentPage=1;constructor(e,i){this.httpMethods=e,this.router=i}ngOnInit(){this.search()}search(e=0,i=this.limit){let o={active:!0,limit:i,offset:e};this.httpMethods.getPaginated(this.pathUrlClient,o).subscribe(l=>{this.gyms=l.results,this.totalResults=l.count,this.currentPage=e/i})}onPageChange(e){let i=e*this.limit;this.search(i)}create(){this.router.navigate(["adm/form/create"]).then()}selectGym(e){localStorage.setItem("academia",String(e.id)),localStorage.setItem("academia_nome",String(e.nome)),this.router.navigate(["my_gym/home/"]).then()}edit(e){this.router.navigate([`adm/form/${e.id}`]).then()}static \u0275fac=function(i){return new(i||t)(s(k),s(G))};static \u0275cmp=h({type:t,selectors:[["app-list"]],standalone:!0,features:[y],decls:14,vars:3,consts:[[1,"gym-container"],[1,"gym-cards"],[1,"gym-card"],[1,"gym-card","add-gym-card",3,"click"],[3,"pageChange","totalItems","itemsPerPage","currentPage"],[1,"gym-card",3,"click"],["mat-button","",3,"click"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"h2"),a(2," Academias cadastradas"),r(),n(3,"div",1),z(4,St,11,3,"mat-card",2,Et),n(6,"mat-card",3),u("click",function(){return o.create()}),n(7,"mat-card-header")(8,"mat-card-title"),a(9,"+"),r()(),n(10,"mat-card-content")(11,"p"),a(12,"Adicionar Nova Academia"),r()()()(),n(13,"app-paginator",4),u("pageChange",function(_){return o.onPageChange(_)}),r()()),i&2&&(m(4),B(o.gyms),m(9),p("totalItems",o.totalResults)("itemsPerPage",o.limit)("currentPage",o.currentPage))},dependencies:[at,dt,lt,st,ct,mt,M,pt],styles:[".gym-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:20px}.gym-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;width:100%;max-width:1200px}.gym-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a;background-color:#fff}.gym-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 12px #00000026}mat-card-header[_ngcontent-%COMP%]{background-color:#f4f4f4;border-radius:8px 8px 0 0;padding-bottom:15px}mat-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333}mat-card-subtitle[_ngcontent-%COMP%]{color:#555;font-size:14px}mat-card-content[_ngcontent-%COMP%]{line-height:1.5}.add-gym-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#f1f1f1;text-align:center;height:150px;transition:background-color .3s ease}.add-gym-card[_ngcontent-%COMP%]:hover{background-color:#e3e3e3}mat-card-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}mat-card-content[_ngcontent-%COMP%]{font-size:14px;color:#555}"]})}return t})();var xt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=h({type:t,selectors:[["app-confirm-dialog-component"]],standalone:!0,features:[y],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","color","warn",3,"mat-dialog-close"]],template:function(i,o){i&1&&(n(0,"h1",0),a(1,"Confirmacao"),r(),n(2,"div",1),a(3,"Voce tem certeza de que deseja deletar essa academia?"),r(),n(4,"div",2)(5,"button",3),a(6,"Cancelar"),r(),n(7,"button",4),a(8,"Confirmar"),r()()),i&2&&(m(5),p("mat-dialog-close",!1),m(2),p("mat-dialog-close",!0))},dependencies:[O,ft,gt,ht,_t,H,M]})}return t})();function Pt(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),r())}function kt(t,c){t&1&&(n(0,"mat-error"),a(1," Nome tem limite de 20 caracteres "),r())}function Ot(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),r())}function wt(t,c){t&1&&(n(0,"mat-error"),a(1," Endere\xE7o tem limite de 60 caracteres "),r())}function Ft(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),r())}function It(t,c){t&1&&(n(0,"mat-error"),a(1," N\xFAmero de telefone inv\xE1lido "),r())}function Tt(t,c){t&1&&(n(0,"mat-error"),a(1," Campo Obrigatorio "),r())}function Dt(t,c){t&1&&(n(0,"mat-error"),a(1," Insira um email valido "),r())}function Lt(t,c){if(t&1){let e=E();n(0,"button",12),u("click",function(){C(e);let o=g();return x(o.toggleLock())}),n(1,"mat-icon"),a(2),r()()}if(t&2){let e=g();m(2),w(e.isUnlocked?"lock_open":"lock")}}function Ut(t,c){if(t&1){let e=E();n(0,"button",13),u("click",function(){C(e);let o=g();return x(o.disable(o.formGroup.value))}),a(1,"Deletar"),r()}if(t&2){let e=g();p("disabled",!e.isUnlocked)}}var bt=(()=>{class t{httpMethods;formBuilder;route;router;dialog;isUnlocked=!1;action="";pathUrlGym=P.GYM;formGroup;created=!0;title="Cadastro de Academia";toggleLock(){this.isUnlocked=!this.isUnlocked}constructor(e,i,o,l,_){this.httpMethods=e,this.formBuilder=i,this.route=o,this.router=l,this.dialog=_,this.formGroup=this.formBuilder.group({id:[],nome:["",[f.required,f.maxLength(20)]],endereco:["",[f.required,f.maxLength(60)]],telefone:["",[f.required,f.pattern("[0-9]{10,11}")]],email:["",[f.required,f.email]]})}ngOnInit(){this.retrieveCallBack()}retrieveCallBack(){this.route.paramMap.subscribe(e=>{this.action=e.get("action"),this.created=!(this.action&&this.action!=="create"),this.created||(this.title="Edicao de Academia",this.httpMethods.get(this.pathUrlGym+this.action+"/").subscribe(i=>{this.formGroup.setValue({id:i.id,nome:i.nome,endereco:i.endereco,telefone:i.telefone,email:i.email})}))})}saveOrUpdate(e){this.created?this.httpMethods.post(this.pathUrlGym,e).subscribe(()=>{this.router.navigate(["/adm/gym/list"])}):this.httpMethods.patch(this.pathUrlGym,e).subscribe(()=>{this.router.navigate(["/adm/gym/list"])})}disable(e){let i=this.dialog.open(xt),o="desativar_academia";i.afterClosed().subscribe(l=>{l&&this.httpMethods.disable(this.pathUrlGym,e,o).subscribe(()=>{this.router.navigate(["/adm/gym/list"])})})}static \u0275fac=function(i){return new(i||t)(s(k),s(tt),s(A),s(G),s(ut))};static \u0275cmp=h({type:t,selectors:[["app-form-gym"]],standalone:!0,features:[y],decls:32,vars:13,consts:[[1,"container"],[1,"mat-elevation-z2","form",3,"ngSubmit","formGroup"],[1,"form-title"],["appearance","fill",1,"email"],["matInput","","formControlName","nome","placeholder","Digite o nome da academia"],["appearance","fill"],["matInput","","type","text","formControlName","endereco","placeholder","Digite o endereco da academia"],["matInput","","type","tel","formControlName","telefone","placeholder","Digite o telefone da academia"],["matInput","","type","email","formControlName","email","placeholder","Digite o email da academia"],["mat-raised-button","","color","primary","type","submit",1,"save",3,"disabled"],["mat-icon-button","","color","warn","type","button"],["mat-raised-button","","color","warn","type","button",1,"delete",3,"disabled"],["mat-icon-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","warn","type","button",1,"delete",3,"click","disabled"]],template:function(i,o){if(i&1&&(n(0,"div",0)(1,"form",1),u("ngSubmit",function(){return o.saveOrUpdate(o.formGroup.value)}),n(2,"h2",2),a(3),r(),n(4,"mat-form-field",3)(5,"mat-label"),a(6,"Nome"),r(),v(7,"input",4),b(8,Pt,2,0,"mat-error")(9,kt,2,0,"mat-error"),r(),n(10,"mat-form-field",5)(11,"mat-label"),a(12,"Endereco"),r(),v(13,"input",6),b(14,Ot,2,0,"mat-error")(15,wt,2,0,"mat-error"),r(),n(16,"mat-form-field",5)(17,"mat-label"),a(18,"Telefone"),r(),v(19,"input",7),b(20,Ft,2,0,"mat-error")(21,It,2,0,"mat-error"),r(),n(22,"mat-form-field",5)(23,"mat-label"),a(24,"Email"),r(),v(25,"input",8),b(26,Tt,2,0,"mat-error")(27,Dt,2,0,"mat-error"),r(),n(28,"button",9),a(29,"Salvar"),r(),b(30,Lt,3,1,"button",10)(31,Ut,2,1,"button",11),r()()),i&2){let l,_,I,T,D,L,U,V;m(),p("formGroup",o.formGroup),m(2),w(o.title),m(5),d((l=o.formGroup.get("nome"))!=null&&l.hasError("required")?8:-1),m(),d((_=o.formGroup.get("nome"))!=null&&_.hasError("maxlength")?9:-1),m(5),d((I=o.formGroup.get("endereco"))!=null&&I.hasError("required")?14:-1),m(),d((T=o.formGroup.get("endereco"))!=null&&T.hasError("maxlength")?15:-1),m(5),d((D=o.formGroup.get("telefone"))!=null&&D.hasError("required")?20:-1),m(),d((L=o.formGroup.get("telefone"))!=null&&L.hasError("pattern")?21:-1),m(5),d((U=o.formGroup.get("email"))!=null&&U.hasError("required")?26:-1),m(),d((V=o.formGroup.get("email"))!=null&&V.hasError("email")?27:-1),m(),p("disabled",!o.formGroup.valid),m(2),d(o.action!=="create"?30:-1),m(),d(o.action!=="create"?31:-1)}},dependencies:[M,nt,rt,ot,et,W,J,K,Q,X,Z,Y,$,it],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;background-color:#f4f4f9;padding-top:20px;padding-bottom:20px}.form[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:30px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;font-family:Arial,sans-serif}.form-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;color:#333;margin-bottom:20px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}mat-label[_ngcontent-%COMP%]{font-weight:600;color:#333}input[_ngcontent-%COMP%]{font-size:16px;padding:10px;border-radius:4px;border:1px solid #ddd}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;border:none;border-radius:4px;cursor:pointer}button.save[_ngcontent-%COMP%]{background-color:#303f9f;color:#fff}button.save[_ngcontent-%COMP%]:disabled{background-color:#ddd}button.save[_ngcontent-%COMP%]:hover:enabled{background-color:#5c6bc0}button.delete[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff;margin-top:10px}button.delete[_ngcontent-%COMP%]:disabled{background-color:#ddd}button.delete[_ngcontent-%COMP%]:hover:enabled{background-color:#e33c3c}@media (max-width: 600px){.form[_ngcontent-%COMP%]{padding:20px}.form-title[_ngcontent-%COMP%]{font-size:20px}button[_ngcontent-%COMP%]{font-size:14px;padding:12px}}mat-icon-button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}"]})}return t})();var yt=[{path:"gym/list",component:Ct},{path:"form/:action",component:bt}];var ce=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=N({imports:[R,q.forChild(yt),O]})}return t})();export{ce as GymListModule};
